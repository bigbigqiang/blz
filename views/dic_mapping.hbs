<div class="clearfix">
    <div class="btn-group">
        <button id="sample_editable_1_new" class="btn green">添加字典表映射关系<i class="icon-plus"></i>
        </button>
        <button class="btn" type="button" id="batch_del">批量删除</button>
        <input type="hidden" id="column_page_list_flag" name="flag" value="column"/>
        <select class="dictionaryList sourceTypeList" id="conditionInfo_sourceType">
            <option value="0">全部业务场景</option>
            {{#each sourceType}}
                <option value={{id}}>{{sourceType}}</option>
            {{/each}}
        </select>
        <select class="dictionaryList dictionaryTypeList" id="conditionInfo_dictionaryType">
            <option value="0">全部字典聚类</option>
        </select>
    </div>
</div>
<table class="table table-striped table-hover table-bordered dictionaryMapping">
    <thead>
    <tr class="table-title">
        <th cond="delete_all"><input type="checkbox" id="select_all"/></th>
        <th cond="sourceType">业务场景<span style="margin-left:10px"><i class="icon-chevron-up"></i></span></th>
        <th cond="typeName">字典聚类<span style="margin-left:10px"><i class="icon-chevron-up"></i></span></th>
        <th cond="chineseName">字典名称<span style="margin-left:10px"><i class="icon-chevron-up"></i></span></th>
        <th cond="realName">中文名称<span style="margin-left:10px"><i class="icon-chevron-up"></i></span></th>
        <th cond="databaseName">所在库<span style="margin-left:10px"><i class="icon-chevron-up"></i></span></th>
        <th cond="tableName">所在表<span style="margin-left:10px"><i class="icon-chevron-up"></i></span></th>
        <th cond="columnName">所属列<span style="margin-left:10px"><i class="icon-chevron-up"></i></span></th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody id="columnInfoListMapping_tbody">
    {{#if dicConditionInfo}}
        {{#each dicConditionInfo}}
            <tr>
                <td class='text-center'><input  type="checkbox" value={{id}}></td>
                <td class='text-center' style='display: none'>{{id}}</td>
                <td class='text-center'>{{sourceType}}</td>
                <td class='text-center'>{{typeName}}</td>
                <td class='text-center'>{{chineseName}}</td>
                <td class='text-center'>{{realName}}</td>
                <td class='text-center'>{{databaseName}}</td>
                <td class='text-center'>{{tableName}}</td>
                <td class='text-center'>{{columnName}}</td>
                <td class='text-center'><a class='delete' href='javascript:;'>删除</a></td>
            </tr>
        {{/each}}
    {{else}}
        <tr>
            <td colspan="9" class='text-center'>暂无数据</td>
        </tr>
    {{/if}}
    </tbody>
</table>
<input type="hidden" id="del" value="delSource"/>
<div class="pagination pagination-mini" style="float: right; margin-right: 30px; margin-bottom: 20px;">
    <div class="M-box" totalPage={{totalPage}} page={{page}}></div>
</div>
<!--START TABLR BACKGROUNDGREY-->
<div class="tablebg-grey"></div>
<!--END TABLR BACKGROUNDGREY-->
<div class="add-new" style="display:none;">
    <h4>
        <i class="icon-edit"></i>添加字典表映射关系<img src="image/portlet-remove-icon-white.png">
    </h4>

    <form method="post">
        <input type="hidden" name="flag" value="column">

        <p class="input-text">
            <label> 选择业务场景 </label>
            <select class="dictionaryList" name="dataProducts" id="selectDataProducts">
                <option value="0">选择业务场景</option>
                {{#each sourceType}}
                    <option value={{id}}>{{sourceType}}</option>
                {{/each}}
            </select>
        </p>

        <p class="input-text">
            <label> 选择字典聚类 </label>
            <select class="dictionaryList" name="enable" id="addDictionaryTypeMapping">
                <option value="0">选择字典聚类</option>

            </select>
        </p>

        <p class="input-text">
            <label> 选择字典 </label>
            <select style="width: 414px;" class="dictionaryList_add" id="dictionaryList_add" name="dictionaryList">
                <option value='0'>选择字典</option>
            </select>
        </p>
        <p class="input-text" style="height: 40px">
            <label> 指定所在表 </label>
            <select class="database-type2 select-table" name="database_type2" id="database_type2" style="width: 414px">
            <option value="0">选择数据表</option>

        </select>
        </p>
        <p class="input-text">
            <label> 指定对应列 </label>
            <select class="database-type3 select-col" name="database_type3" style="width: 414px" id="columnName">
                <option value="0">选择字段</option>
            </select>
        </p>
        <p class="input-text">
            <label> 字段类型 </label>
            <input type="text" readOnly='true' name="column_type" id="column_type" value=""/>
        </p>

        <p class="input-text">
            <label> 真实名称 </label>
            <input type="text" name="realName" id="realName" value=""/>
        </p>

        <div id="databaseIDMSG" name="databaseIDMSG">
            <input type='hidden' name='databaseId' id='databaseId' value=""/>
        </div>

        <p class="btn-form">
											<span>
												<input type="button" value="保 存" id="save">
											</span>
        </p>
    </form>

</div>

<div class="change-message" style="display:none;">
    <h4>
        <i class="icon-edit"></i>字典表映射关系编辑<img src="image/portlet-remove-icon-white.png">
    </h4>

    <form method="post">
        <input type="hidden" name="flag" value="column">

        <p class="input-text">
            <label> 选择业务场景 </label>
            <select class="dictionaryList" name="dataProducts" id="selectDataProducts">
                <option value="0">选择业务场景</option>
                {{#each sourceType}}
                    <option value={{id}}>{{sourceType}}</option>
                {{/each}}
            </select>
        </p>

        <p class="input-text">
            <label> 选择字典聚类 </label>
            <select class="dictionaryList" name="enable" id="addDictionaryTypeMapping">
                <option value="0">选择字典聚类</option>
                <!--<c:forEach var="dictionaryType" items="${dictionaryTypeList}">-->
                <!--<option value="${dictionaryType.id}">${dictionaryType.typeName}</option>-->
                <!--</c:forEach>-->
            </select>
        </p>

        <p class="input-text">
            <label> 选择字典 </label>
            <select style="width: 414px;" class="dictionaryList_add" id="dictionaryList_add" name="dictionaryList">
                <option>选择字典</option>
            </select>
        </p>
        <p class="input-text" style="height: 40px">
            <label> 指定所在表 </label> <select class="database-type2"
                                           name="database_type2" id="database_type2" style="width: 414px"
                                           onchange="databasechangeincolumn()">
            <option value="0">选择数据表</option>

        </select>
        </p>
        <p class="input-text">
            <label> 指定对应列 </label>
            <select class="database-type3" name="database_type3" style="width: 414px" id="columnName">
            </select>
        </p>

        <p class="input-text">
            <label> 字段类型 </label>
            <input type="text" readOnly='true' name="column_type" id="column_type" value=""/>
        </p>

        <p class="input-text">
            <label> 真实名称 </label>
            <input type="text" name="realName" id="realName" value=""/>
        </p>

        <div id="databaseIDMSG" name="databaseIDMSG">
            <input type='hidden' name='databaseId' id='databaseId' value=""/>
        </div>
        <p class="btn-form">
											<span>
												<input type="button" value="保 存" onclick="savefield2()">
											</span>
        </p>
    </form>
</div>
<!--END TABLR CHANGE-->
</div>
</div>
<!-- END EXAMPLE TABLE PORTLET-->
</div>
</div>
<!-- END PAGE CONTENT -->
</div>
<!-- END PAGE CONTAINER-->
</div>
<!-- END PAGE -->
{{>common_js}}
<script src="js/jquery.pagination.js"></script>
<script src="js/sockjs.js"></script>
<script src="js/dic_mapping.js"></script>
